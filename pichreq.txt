<template>
  <div style="background-color: #a0c8a8; padding: 20px;">
    <h3 style="color: black;">Customer Information</h3>
    <el-form label-width="150px" style="margin-bottom: 20px;">
      <el-row :gutter="20">
        <el-col :span="12">
          <el-form-item label="A/C No." label-style="color: black">
            <el-input disabled v-model="customer.acNo" />
          </el-form-item>
          <el-form-item label="A/C Title" label-style="color: black">
            <el-input disabled v-model="customer.acTitle" />
          </el-form-item>
        </el-col>
        <el-col :span="12">
          <el-form-item label="NTN No." label-style="color: black">
            <el-input disabled v-model="customer.ntn" />
          </el-form-item>
          <el-form-item label="IBAN" label-style="color: black">
            <el-input disabled v-model="customer.iban" />
          </el-form-item>
        </el-col>
      </el-row>
    </el-form><!-- Tabs -->
<el-tabs v-model="activeTab">
  <!-- PICH Tab -->
  <el-tab-pane label="PICH" name="pich">
    <!-- Field Section -->
    <el-form label-width="180px">
      <el-row :gutter="20">
        <el-col :span="12">
          <el-form-item label="PICH No." label-style="color: black">
            <el-input disabled v-model="form.pichNo" />
          </el-form-item>
          <el-form-item label="Currency" label-style="color: black" required>
            <el-select v-model="form.currency" placeholder="Select Currency">
              <el-option label="PKR" value="PKR" />
              <el-option label="USD" value="USD" />
            </el-select>
          </el-form-item>
          <el-form-item label="Tenor" label-style="color: black" required>
            <el-input v-model.number="form.tenor" @input="calculateMaturity" />
          </el-form-item>
          <el-form-item label="PICH Maturity" label-style="color: black">
            <el-input disabled v-model="form.maturity" />
          </el-form-item>
          <el-form-item label="Port of Desc." label-style="color: black" required>
            <el-select v-model="form.portOfDesc" placeholder="Select Port">
              <el-option label="Karachi" value="karachi" />
              <el-option label="Lahore" value="lahore" />
            </el-select>
          </el-form-item>
        </el-col>

        <el-col :span="12">
          <el-form-item label="PICH Date" label-style="color: black">
            <el-date-picker disabled v-model="form.pichDate" type="date" />
          </el-form-item>
          <el-form-item label="Mode of Payment" label-style="color: black" required>
            <el-select v-model="form.paymentMode" placeholder="Select Mode">
              <el-option label="Cash" value="cash" />
              <el-option label="Bank Transfer" value="bank" />
            </el-select>
          </el-form-item>
          <el-form-item label="Consignee Name" label-style="color: black" required>
            <div style="display: flex; gap: 5px;">
              <el-input v-model="form.consigneeName" />
              <el-button plain style="background: white; color: black;" @click="openConsigneeList">List</el-button>
            </div>
          </el-form-item>
          <el-form-item label="PICH Amount" label-style="color: black" required>
            <el-input v-model="form.pichAmount" />
          </el-form-item>
          <el-form-item label="Consignee Passport No." label-style="color: black" required>
            <el-input v-model="form.passportNo" />
          </el-form-item>
          <el-form-item label="Consignee ID No." label-style="color: black" required>
            <el-input v-model="form.idNo" />
          </el-form-item>
        </el-col>
      </el-row>
    </el-form>

    <!-- Authorized Person Table -->
    <h3 style="margin-top: 30px; color: black;">Authorized Person Details</h3>
    <el-table :data="authorizedList" highlight-current-row border
      style="width: 100%; margin-bottom: 10px"
      @current-change="selectedRow = $event"
      :row-class-name="tableRowClass">
      <el-table-column label="Name" prop="name" />
      <el-table-column label="Address" prop="address" />
      <el-table-column label="Passport No." prop="passport" />
      <el-table-column label="ID No." prop="id" />
    </el-table>
    <div style="text-align: right; margin-bottom: 20px;">
      <el-button plain style="background: white; color: black; margin-right: 10px; opacity: 0.7" @click="removePerson" :disabled="!selectedRow">
        Remove
      </el-button>
      <el-button plain style="background: white; color: black; opacity: 0.7" @click="dialogVisible = true" :disabled="authorizedList.length >= 10">
        Add
      </el-button>
    </div>
  </el-tab-pane>

  <!-- Item Info Tab -->
  <el-tab-pane label="Item Info" name="itemInfo">
    <div>Hello</div>
  </el-tab-pane>
</el-tabs>

<!-- Shared Buttons -->
<div style="margin-top: 20px; text-align: left;">
  <el-button plain style="background: white; color: black; opacity: 0.7" :disabled="!isFormValid">OK</el-button>
  <el-button plain style="background: white; color: black; opacity: 0.7">Back</el-button>
  <el-button plain style="background: white; color: black; opacity: 0.7">Exit</el-button>
  <el-button plain style="background: white; color: black; opacity: 0.7">Scan Docs</el-button>
</div>

<!-- Add Authorized Person Dialog -->
<el-dialog v-model="dialogVisible" title="Add Authorized Person" width="600px" style="background-color: #a0c8a8">
  <el-form label-width="180px">
    <el-form-item label="Authorized Person Name" label-style="color: black">
      <el-input v-model="authForm.name" />
    </el-form-item>
    <el-form-item label="Authorized Person Address" label-style="color: black">
      <el-input v-model="authForm.address" />
    </el-form-item>
    <el-form-item label="Passport No." label-style="color: black">
      <el-input v-model="authForm.passport" />
    </el-form-item>
    <el-form-item label="Identification No." label-style="color: black">
      <el-input v-model="authForm.id" />
    </el-form-item>
  </el-form>
  <template #footer>
    <el-button plain style="background: white; color: black;" @click="submitAuthorizedPerson">Add</el-button>
    <el-button plain style="background: white; color: black;" @click="dialogVisible = false">Exit</el-button>
  </template>
</el-dialog>

  </div>
</template>
